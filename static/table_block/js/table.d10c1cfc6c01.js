(()=>{"use strict";var e,t={2618:(e,t,a)=>{var l=a(5311),n=a.n(l),i=a(1544);function d(e,t){const a=e+"-handsontable-container",l=e+"-handsontable-header",d=e+"-handsontable-col-header",r=e+"-handsontable-col-caption",s=n()("#"+e),o=n()("#"+l),c=n()("#"+d),h=n()("#"+r),f={};let p=null,u=null,b=!1;const w=function(){const t=n()("#"+e).parent();let a=0;return t.find(".htCore").each((function(){a+=n()(this).height()})),a+t.find("[data-field]").first().height()},v=[`#${a}`,".wtHider",".wtHolder"],g=function(t){const a=n()("#"+e);n().each(v,(function(){a.closest("[data-field]").find(this).height(t)}))};try{u=JSON.parse(s.val())}catch(e){}null!==u&&((0,i.R)(u,"first_row_is_table_header")&&o.prop("checked",u.first_row_is_table_header),(0,i.R)(u,"first_col_is_header")&&c.prop("checked",u.first_col_is_header),(0,i.R)(u,"table_caption")&&h.prop("value",u.table_caption)),(0,i.R)(t,"width")&&(0,i.R)(t,"height")||n()(window).on("resize",(()=>{var e;p.updateSettings({width:n()(".w-field--table_input").closest(".w-panel").width(),height:w()}),e="100%",n().each(v,(function(){n()(this).width(e)})),n()(".w-field--table_input").width(e)}));const _=function(){const e=[],t=[];p.getCellsMeta().forEach((t=>{let a,l;(0,i.R)(t,"className")&&(a=t.className),(0,i.R)(t,"hidden")&&(l=!0),(void 0!==a||l)&&e.push({row:t.row,col:t.col,className:a,hidden:l})})),p.getPlugin("mergeCells").isEnabled()&&p.getPlugin("mergeCells").mergedCellsCollection.mergedCells.forEach((e=>{t.push({row:e.row,col:e.col,rowspan:e.rowspan,colspan:e.colspan})})),s.val(JSON.stringify({data:p.getData(),cell:e,mergeCells:t,first_row_is_table_header:o.prop("checked"),first_col_is_header:c.prop("checked"),table_caption:h.val()}))},m=function(e,t){g(w()),_()};o.on("change",(()=>{_()})),c.on("change",(()=>{_()})),h.on("change",(()=>{_()}));const y={afterChange:function(e,t){b&&"loadData"!==t&&"MergeCells"!==t&&_()},afterCreateCol:m,afterCreateRow:m,afterRemoveCol:m,afterRemoveRow:m,afterSetCellMeta:function(e,t,a,l){b&&"className"===a&&_()},afterMergeCells:function(e,t,a){b&&_()},afterUnmergeCells:function(e,t){b&&_()},afterInit:function(){b=!0}};null!==u&&((0,i.R)(u,"data")&&(y.data=u.data),(0,i.R)(u,"cell")&&(y.cell=u.cell)),Object.keys(y).forEach((e=>{f[e]=y[e]})),Object.keys(t).forEach((e=>{f[e]=t[e]})),(0,i.R)(f,"mergeCells")&&!0===f.mergeCells&&null!==u&&(0,i.R)(u,"mergeCells")&&(f.mergeCells=u.mergeCells),p=new Handsontable(document.getElementById(a),f),window.addEventListener("load",(()=>{p.render(),g(w()),window.dispatchEvent(new Event("resize"))}))}window.initTable=d,window.telepath.register("wagtail.widgets.TableInput",class{constructor(e,t){this.options=e,this.strings=t}render(e,t,a,l){const n=document.createElement("div");n.innerHTML=`\n      <div class="w-field__wrapper" data-field-wrapper>\n        <label class="w-field__label" for="${a}-handsontable-header">${this.strings["Row header"]}</label>\n        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field>\n          <div class="w-field__help" id="${a}-handsontable-header-helptext" data-field-help>\n            <div class="help">${this.strings["Display the first row as a header."]}</div>\n          </div>\n          <div class="w-field__input" data-field-input>\n            <input type="checkbox" id="${a}-handsontable-header" name="handsontable-header" aria-describedby="${a}-handsontable-header-helptext" />\n          </div>\n        </div>\n      </div>\n      <div class="w-field__wrapper" data-field-wrapper>\n        <label class="w-field__label" for="${a}-handsontable-col-header">${this.strings["Column header"]}</label>\n        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field>\n          <div class="w-field__help" id="${a}-handsontable-col-header-helptext" data-field-help>\n            <div class="help">${this.strings["Display the first column as a header."]}</div>\n          </div>\n          <div class="w-field__input" data-field-input>\n            <input type="checkbox" id="${a}-handsontable-col-header" name="handsontable-col-header" aria-describedby="${a}-handsontable-col-header-helptext" />\n          </div>\n        </div>\n      </div>\n      <div class="w-field__wrapper" data-field-wrapper>\n        <label class="w-field__label" for="${a}-handsontable-col-caption">${this.strings["Table caption"]}</label>\n        <div class="w-field w-field--char_field w-field--text_input" data-field>\n          <div class="w-field__help" id="${a}-handsontable-col-caption-helptext" data-field-help>\n            <div class="help">${this.strings["A heading that identifies the overall topic of the table, and is useful for screen reader users"]}</div>\n          </div>\n          <div class="w-field__input" data-field-input>\n            <input type="text" id="${a}-handsontable-col-caption" name="handsontable-col-caption" aria-describedby="${a}-handsontable-col-caption-helptext" />\n          </div>\n        </div>\n      </div>\n      <div id="${a}-handsontable-container"></div>\n      <input type="hidden" name="${t}" id="${a}" placeholder="${this.strings.Table}">\n    `,e.replaceWith(n);const i=n.querySelector(`input[name="${t}"]`),r=this.options,s={getValue:()=>JSON.parse(i.value),getState:()=>JSON.parse(i.value),setState(e){i.value=JSON.stringify(e),d(a,r)},focus(){}};return s.setState(l),s}})},5311:e=>{e.exports=jQuery}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,l),i.exports}l.m=t,e=[],l.O=(t,a,n,i)=>{if(!a){var d=1/0;for(c=0;c<e.length;c++){for(var[a,n,i]=e[c],r=!0,s=0;s<a.length;s++)(!1&i||d>=i)&&Object.keys(l.O).every((e=>l.O[e](a[s])))?a.splice(s--,1):(r=!1,i<d&&(d=i));if(r){e.splice(c--,1);var o=n();void 0!==o&&(t=o)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,n,i]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.j=986,(()=>{var e={986:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[d,r,s]=a,o=0;if(d.some((t=>0!==e[t]))){for(n in r)l.o(r,n)&&(l.m[n]=r[n]);if(s)var c=s(l)}for(t&&t(a);o<d.length;o++)i=d[o],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},a=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=l.O(void 0,[751],(()=>l(2618)));n=l.O(n)})();